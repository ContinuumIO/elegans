<html lang="en">
<head>
  <title>Plot Sample - Particles and fill_by option</title>
  <link rel='stylesheet' href='common.css'>
  <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/three.js/r66/three.min.js"></script>
  <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.4.4/d3.min.js"></script>
  <script type="text/javascript" src="../release/elegans.js"></script>
  <script src="http://github.com/mrdoob/three.js/raw/r49/examples/js/ImprovedNoise.js"></script>
  <script type="text/javascript">
   window.onload = function(){
     var stage = new Elegans.Stage(d3.select("#vis")[0][0]);
     var MAX=10, INTERVAL_MIN=0.5, INTERVAL_MAX=3, X_NUM=10, Y_NUM=10;
     var data = {x: [], y: [], z: [], fill: []};
     var point = {x:Math.random()*MAX,y:Math.random()*MAX};
     var noise = ImprovedNoise();
     for(var i=0;i < X_NUM;i++){
       point.x = point.x + Math.random()*(INTERVAL_MAX - INTERVAL_MIN) + INTERVAL_MIN;
       for(var j=0;j < Y_NUM;j++){
         point.y = point.y + Math.random()*(INTERVAL_MAX - INTERVAL_MIN) + INTERVAL_MIN;
         point.z = noise.noise(point.x,point.y,0);
         data.x.push(point.x);
         data.y.push(point.y);
         data.z.push(point.z);
	 data.fill.push(Math.random());
       }
     }
     stage.add(new Elegans.Particles(data, {name: "molecule", fill_by: 'fill'}));
     stage.render();
   };
  </script>
</head>
<body>

<div id="vis">
</div>
</body>
